======================================================================
GAMECREATOR CORE + NETCODE - MODULE INDEX
======================================================================
Project: ML - Clean Multiplayer Integration
Generated: 2025-12-03
Total Modules: 2 (Core + Netcode)

----------------------------------------------------------------------
MODULE OVERVIEW
----------------------------------------------------------------------

[Core] (gc-core)
  Assembly: GameCreator.Runtime.Core
  Namespace: GameCreator.Runtime.Core
  Components: Character, Args, Instructions, Conditions, Triggers
  Dependencies: InputSystem, TextMeshPro, Collections, Mathematics

[Netcode] (gc-netcode)
  Assembly: GameCreator.Netcode.Runtime
  Namespace: GameCreator.Netcode.Runtime
  Components: NetworkCharacterAdapter, NetworkCharacter, NetworkVariablesSync
  Dependencies: GameCreator.Runtime.Core, Unity.Netcode.Runtime

----------------------------------------------------------------------
NETCODE INTEGRATION COMPONENTS
----------------------------------------------------------------------

Components/
├── NetworkCharacter.cs
│   └── Extended Character with network properties
├── NetworkCharacterAdapter.cs
│   └── Bridge: Character ↔ NetworkBehaviour
└── NetworkCharacterRegistry.cs
    └── Tracks all network characters

Driver/
└── NetworkUnitDriverController.cs
    └── Network-aware movement driver

Motion/
└── NetworkCharacterMotion.cs
    └── Synced character motion

Sync/
└── NetworkVariablesSync.cs
    └── GameCreator Variables ↔ NetworkVariables

VisualScripting/
├── Instructions/
│   ├── InstructionNetworkStartHost
│   ├── InstructionNetworkStartClient
│   ├── InstructionNetworkSpawnPlayer
│   ├── InstructionNetworkDespawn
│   ├── InstructionNetworkChangeOwnership
│   └── InstructionNetworkDisconnect
├── Conditions/
│   ├── ConditionNetworkIsHost
│   ├── ConditionNetworkIsClient
│   ├── ConditionNetworkIsServer
│   ├── ConditionNetworkIsOwner
│   ├── ConditionNetworkIsLocalPlayer
│   ├── ConditionNetworkIsConnected
│   └── ConditionNetworkIsSpawned
├── Triggers/
│   ├── EventNetworkOnClientConnected
│   ├── EventNetworkOnClientDisconnected
│   ├── EventNetworkOnLocalPlayerSpawned
│   ├── EventNetworkOnNetworkSpawn
│   ├── EventNetworkOnNetworkDespawn
│   └── EventNetworkOnOwnershipChanged
└── Properties/
    ├── GetGameObjectNetworkLocalPlayer
    └── GetGameObjectNetworkPlayerByClientId

----------------------------------------------------------------------
DEPENDENCY GRAPH
----------------------------------------------------------------------

Unity.Netcode.Runtime <- FOUNDATION
    |
    +-- GameCreator.Runtime.Core <- CHARACTER SYSTEM
    |     +-- Character, Args, Instructions, Conditions
    |
    +-- GameCreator.Netcode.Runtime <- NETWORK BRIDGE
          +-- NetworkCharacterAdapter (bridges both)
          +-- NetworkVariablesSync
          +-- All network VS components

----------------------------------------------------------------------
KEY PATTERNS
----------------------------------------------------------------------

NetworkCharacterAdapter Lifecycle:
├── OnNetworkSpawn() - Character spawns on network
│   ├── IsOwner: BecomeLocalPlayer()
│   └── !IsOwner: BecomeRemotePlayer()
├── OnNetworkDespawn() - Character leaves network
├── OnGainedOwnership() - Ownership transferred to us
└── OnLostOwnership() - Ownership transferred away

RPC Pattern (Netcode 2.x):
├── [Rpc(SendTo.Server)] - Client → Server
├── [Rpc(SendTo.Everyone)] - Server → All clients
├── [Rpc(SendTo.Owner)] - Server → Owner only
└── RpcParams rpcParams = default for sender info

Variables Sync:
├── NetworkSyncMode.Everyone - All clients read
├── NetworkSyncMode.OwnerOnly - Owner read/write
└── NetworkSyncMode.ServerOnly - Server only

----------------------------------------------------------------------
USAGE INSTRUCTIONS
----------------------------------------------------------------------

1. Load persona schema before working on module:
   .serena/personas/character-core.llm.txt
   .serena/personas/netcode-core.llm.txt

2. Check OpenSpec for existing specs and proposals:
   openspec list --specs
   openspec list

3. Use decision trees for networking decisions:
   openspec/.decision-trees/network-sync-method.yaml
   openspec/.decision-trees/gc-character-sync.yaml

4. Reference GameCreator.Netcode.Runtime namespace for all
   network-related GameCreator code

----------------------------------------------------------------------
OPENSPEC INTEGRATION
----------------------------------------------------------------------

Active Specs (check with: openspec list --specs):
├── character-system/spec.md
├── network-synchronization/spec.md
├── spawn-system/spec.md
└── visual-scripting/spec.md

Decision Trees:
├── network-sync-method.yaml
├── gc-character-sync.yaml
└── schema.yaml (KB-enhanced schema)

Cross-reference: .serena/memories/TOOLS/008_openspec_serena_integration.md
